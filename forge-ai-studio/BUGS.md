# Forge AI Studio - Bug Report

> Auto-generated by Playwright MCP E2E Tests
> Date: 2026-02-16

---

## Summary

| Severity | Count |
|----------|-------|
| Critical | 0 |
| Major    | 0 |
| Minor    | 2 |
| Info     | 1 |

---

## BUG-001: Raw `<think>` tags displayed in Playground output (Minor)

- **Page:** Playground (`/#/playground`)
- **Description:** When Thinking Mode is ON, the `<think>` and `</think>` tags are rendered as raw text in the output panel instead of being parsed and displayed in a styled/collapsible section.
- **Expected:** Thinking content should be rendered in a visually distinct collapsible block (e.g., a light gray box labeled "Thinking...") separate from the final response.
- **Actual:** The raw `<think>...</think>` tags appear as plain text inline with the response content. Markdown formatting (e.g., `**bold**`) inside the response is also not rendered.
- **Screenshot:** `test4-thinking-on.png`
- **Severity:** Minor (functional but impacts UX/readability)

---

## BUG-002: Model card "Format" text truncated (Minor)

- **Page:** Models (`/#/models`)
- **Description:** The "FORMAT" column in the model card shows "Safetensors/Pytor..." instead of the full text "Safetensors/Pytorch".
- **Expected:** The full format text should be visible or truncated with a tooltip on hover.
- **Actual:** Text is cut off with no tooltip or expansion mechanism.
- **Screenshot:** `test2-models.png`
- **Severity:** Minor (cosmetic)

---

## BUG-003: Missing favicon.ico (Info)

- **Page:** All pages
- **Description:** Console error: `Failed to load resource: the server responded with a status of 404 (Not Found)` for `/favicon.ico`.
- **Expected:** A favicon should be configured or the HTML should not reference one.
- **Actual:** 404 error in browser console on every page load.
- **Severity:** Info (no user-visible impact, console noise only)

---

## Test Results Summary

### Test 1: Settings Page - PASSED
- [x] Chat API URL field present (default: `/api/chat`)
- [x] Embed API URL field present (default: `/api/embed`)
- [x] API Key field present (default: `EMPTY`)
- [x] Chat "Test" button → "Connected"
- [x] Embed "Test" button → "Connected"
- [x] "Save Configuration" → "Settings Saved!" message

### Test 2: Models Page - PASSED
- [x] `Qwen/Qwen3-4B` model card visible
- [x] Provider: "vLLM Hosted", tag: "VLLM"
- [x] Refresh button loads models (TOTAL MODELS: 1)
- [x] Model detail link navigates correctly
- [ ] Format text truncated (BUG-002)

### Test 3: Model Detail Page - PASSED
- [x] Model name: Qwen/Qwen3-4B
- [x] Parameters, Context Window (8,192), VRAM Usage displayed
- [x] Modelfile, Hyperparameters table, JSON Metadata present
- [x] "Run Model" button navigates to Playground

### Test 4: Playground Page - PASSED
- [x] Model dropdown: `Qwen/Qwen3-4B` selected
- [x] System prompt field present
- [x] **Thinking OFF:** Output "Hello! How can I assist you today?" - no `<think>` tag, time 205ms (not 0ms)
- [x] **Thinking ON:** Output contains thinking content, time 6.07s
- [x] **Stop Generation:** Stopped at 397 chars / 2.04s
- [x] **Copy button:** "Copied!" message shown
- [x] Parameters: Temperature (0.7), Top P (0.9), Top K (off), Max Tokens (2048)
- [x] Advanced Parameters: Presence/Frequency/Repetition penalty, Seed, Stop sequences
- [x] JSON Mode toggle present
- [x] Stream Output toggle present
- [ ] Raw `<think>` tags in output (BUG-001)

### Test 5: Embeddings Page - PASSED
- [x] Model: `nomic-ai/nomic-embed-text-v1.5`
- [x] Default input text present (4 lines, 182 chars)
- [x] Session stats: Dimensions 768, Tokens 45, Total Vectors 4
- [x] Cosine similarity matrix (4x4) visible
- [x] Vector #1 expanded with first 20 of 768 values
- [x] "Export All as JSON" button active after generation

### Test 6: History Page - PASSED
- [x] 4 entries from Playground and Embeddings tests visible
- [x] `/v1/chat/completions` and `/v1/embeddings` endpoints listed
- [x] Endpoint filter: `/v1/embeddings` → filtered to 1 result
- [x] Search: "nomic" → filtered to 1 result
- [x] Stats bar: Total Requests (4), Success Rate (100%), Total Tokens (561)
- [x] Delete single entry: list updated (3 entries, 516 tokens)
- [x] Clear All: list emptied → "No history yet"

### Test 7: Datasets Page - PASSED (Smoke Test)
- [x] Page loaded ("Dataset Connect")
- [x] API Base URL, Endpoint, Bearer Token fields present
- [x] "Sync Data" button present

### Test 8: Sidebar Navigation - PASSED
- [x] All 6 sidebar links navigate to correct pages
- [x] Dashboard link does NOT exist (confirmed removed)
- [x] Active state highlight (`bg-blue-600/10 text-blue-400`) applied correctly

---

## Verification Criteria

| Criteria | Status |
|----------|--------|
| All 7 pages load successfully | PASS |
| Settings connection test works | PASS |
| Models show real vLLM model | PASS |
| Playground Thinking ON/OFF correct | PASS |
| Playground Stop Generation works | PASS |
| Embeddings generate real vectors | PASS |
| History shows real records | PASS |
| All filters and actions work | PASS |
| Elapsed time not 0ms (bug fix) | PASS |

---

**Overall Result: 8/8 Tests PASSED | 2 Minor Bugs | 1 Info Issue**
